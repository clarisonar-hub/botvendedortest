<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BotVendedortest1 ‚Äî Pedido</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; color:#222; background:#f7f7f7; }
    .card { background:white; padding:18px; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,0.06); max-width:720px; margin:auto; }
    h1 { margin:0 0 12px 0; color:#1f6feb; }
    .produto { display:flex; justify-content:space-between; align-items:center; padding:10px 0; border-bottom:1px solid #eee; }
    .produto:last-child { border-bottom:0; }
    .produto label { font-weight:600; }
    input[type="number"], input[type="text"], select { width:100%; padding:6px; border-radius:6px; border:1px solid #ddd; text-align:left; margin-top:4px; }
    .total { text-align:right; margin-top:12px; font-size:18px; font-weight:700; }
    .info { font-size:13px; color:#555; margin-top:8px; }
    .btn { display:inline-block; margin-top:16px; padding:12px 18px; background:#27ae60; color:white; text-decoration:none; border-radius:8px; cursor:pointer; border:none; font-weight:700; }
    .btn:disabled { opacity:0.6; cursor:not-allowed; }
    .row { display:flex; gap:12px; margin-top:12px; flex-wrap:wrap; }
    .row > div { flex:1; min-width:120px; }
    .small { font-size:13px; color:#666; }
    footer { text-align:center; margin-top:18px; color:#888; font-size:13px; }
    @media(max-width:520px){ .produto { flex-direction:column; align-items:flex-start; gap:8px } }
  </style>
</head>
<body>
  <div class="card">
    <h1>BotVendedortest1 ‚Äî Card√°pio</h1>

    <!-- Produtos -->
    <div class="produto">
      <label>Combo de Sushi Simples (R$25,00)</label>
      <input type="number" id="q_combo" min="0" value="0" />
    </div>

    <div class="produto">
      <label>Pastel em Cone (R$30,00)</label>
      <input type="number" id="q_pastel" min="0" value="0" />
    </div>

    <div class="produto">
      <label>Lanche Econ√¥mico (R$10,00)</label>
      <input type="number" id="q_lanche" min="0" value="0" />
    </div>

    <div class="produto">
      <label>Refrigerante (lata) R$8,00</label>
      <input type="number" id="q_refrigerante" min="0" value="0" />
    </div>

    <div class="produto">
      <label>√Ågua 500 ml (R$5,00)</label>
      <input type="number" id="q_agua" min="0" value="0" />
    </div>

    <!-- Dados do cliente -->
    <div class="row">
      <div>
        <label>Nome do cliente</label>
        <input type="text" id="cliente_nome" placeholder="Ex: Jo√£o" />
      </div>
      <div>
        <label>Endere√ßo</label>
        <input type="text" id="cliente_end" placeholder="Rua/Refer√™ncia" />
      </div>
      <div>
        <label>N√∫mero</label>
        <input type="text" id="cliente_num" placeholder="N√∫mero do endere√ßo" />
      </div>
      <div>
        <label>Pagamento</label>
        <select id="cliente_pag">
          <option value="Pix">Pix</option>
          <option value="Cr√©dito">Cr√©dito</option>
          <option value="D√©bito">D√©bito</option>
        </select>
      </div>
    </div>

    <div class="total">Total: R$ <span id="total_val">0,00</span></div>

    <button id="btnPedido" class="btn" onclick="finalizarPedido()">Finalizar Pedido (Enviar pro WhatsApp)</button>

    <div class="info" style="margin-top:10px;">
      Cada pedido inclui automaticamente um <strong>carimbo</strong> de origem: <code>botvendedortest1</code> e um ID √∫nico para controle.
    </div>

    <footer>Feito com ‚ù§Ô∏è ‚Äî BotVendedortest1</footer>
  </div>

  <script>
    const PRECOS = {
      combo: 25.00,
      pastel: 30.00,
      lanche: 10.00,
      refrigerante: 8.00,
      agua: 5.00
    };

    const inputs = {
      combo: document.getElementById('q_combo'),
      pastel: document.getElementById('q_pastel'),
      lanche: document.getElementById('q_lanche'),
      refrigerante: document.getElementById('q_refrigerante'),
      agua: document.getElementById('q_agua')
    };
    const totalVal = document.getElementById('total_val');
    const btn = document.getElementById('btnPedido');

    function calcularTotal() {
      const t =
        (Number(inputs.combo.value) * PRECOS.combo) +
        (Number(inputs.pastel.value) * PRECOS.pastel) +
        (Number(inputs.lanche.value) * PRECOS.lanche) +
        (Number(inputs.refrigerante.value) * PRECOS.refrigerante) +
        (Number(inputs.agua.value) * PRECOS.agua);
      totalVal.textContent = t.toFixed(2).replace('.', ',');
      btn.disabled = t === 0;
      return t;
    }

    Object.values(inputs).forEach(inp => inp.addEventListener('input', calcularTotal));
    calcularTotal();

    function gerarPedidoID() {
      const d = new Date();
      const Y = String(d.getFullYear());
      const M = String(d.getMonth()+1).padStart(2,'0');
      const D = String(d.getDate()).padStart(2,'0');
      const h = String(d.getHours()).padStart(2,'0');
      const m = String(d.getMinutes()).padStart(2,'0');
      const s = String(d.getSeconds()).padStart(2,'0');
      return `${Y}${M}${D}-${h}${m}${s}`;
    }

    function finalizarPedido() {
      const qCombo = Number(inputs.combo.value);
      const qPastel = Number(inputs.pastel.value);
      const qLanche = Number(inputs.lanche.value);
      const qRefri = Number(inputs.refrigerante.value);
      const qAgua = Number(inputs.agua.value);

      if (qCombo + qPastel + qLanche + qRefri + qAgua <= 0) {
        alert('Escolha ao menos 1 item para fazer o pedido.');
        return;
      }

      const nome = (document.getElementById('cliente_nome').value || 'N√£o informado').trim();
      const endereco = (document.getElementById('cliente_end').value || 'N√£o informado').trim();
      const numero = (document.getElementById('cliente_num').value || 'N√£o informado').trim();
      const pagamento = document.getElementById('cliente_pag').value;
      const pedidoId = gerarPedidoID();
      const siteOrigem = 'botvendedortest1';

      let itens = '';
      if (qCombo > 0) itens += `${qCombo}x Combo de Sushi Simples (R$${(PRECOS.combo*qCombo).toFixed(2)})%0A`;
      if (qPastel > 0) itens += `${qPastel}x Pastel em Cone (R$${(PRECOS.pastel*qPastel).toFixed(2)})%0A`;
      if (qLanche > 0) itens += `${qLanche}x Lanche Econ√¥mico (R$${(PRECOS.lanche*qLanche).toFixed(2)})%0A`;
      if (qRefri > 0) itens += `${qRefri}x Refrigerante lata (R$${(PRECOS.refrigerante*qRefri).toFixed(2)})%0A`;
      if (qAgua > 0) itens += `${qAgua}x √Ågua 500 ml (R$${(PRECOS.agua*qAgua).toFixed(2)})%0A`;

      const total = calcularTotal();

      let mensagem = `üì¶ *Novo Pedido*%0A`;
      mensagem += `ID: ${pedidoId}%0A`;
      mensagem += `Origem: ${siteOrigem}%0A%0A`;
      mensagem += `Cliente: ${nome}%0A`;
      mensagem += `Endere√ßo: ${endereco}, N¬∫ ${numero}%0A`;
      mensagem += `Pagamento: ${pagamento}%0A%0A`;
      mensagem += `Itens:%0A${itens}%0A`;
      mensagem += `Total: R$ ${total.toFixed(2)}%0A%0A`;
      mensagem += `Obs: Enviar confirma√ß√£o e forma de pagamento.`;

      const numeroLoja = '5547992063317';
      const link = `https://wa.me/${numeroLoja}?text=${mensagem}`;
      window.open(link, '_blank');
    }
  </script>
</body>
</html>
